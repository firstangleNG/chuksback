{% extends 'base.html' %}
{% load static %}

{% block title %}<title>Inventory Reports</title>{% endblock %}

{% block content %}
<div class="reports-container">
    <h1>Inventory Reports</h1>

    <div class="report-summary">
        <div class="report-card">
            <h3>Total Items</h3>
            <p>{{ total_items }}</p>
        </div>
        <div class="report-card">
            <h3>Low Stock Items</h3>
            <p>{{ low_stock_count }}</p>
        </div>
        <div class="report-card">
            <h3>Out of Stock</h3>
            <p>{{ out_of_stock_count }}</p>
        </div>
        <div class="report-card">
            <h3>Expiring Soon</h3>
            <p>{{ expiring_soon_count }}</p>
        </div>
    </div>

    <h2>Recent Stock Updates</h2>
    <div class="report-list">
        {% for item in recent_updates %}
        <div class="report-item">
            <h3>{{ item.part_name }}</h3>
            <p><strong>SKU:</strong> {{ item.sku }}</p>
            <p><strong>Quantity:</strong> {{ item.quantity_available }}</p>
            <p><strong>Last Updated:</strong> {{ item.updated_at }}</p>
        </div>
        {% empty %}
        <p>No recent updates.</p>
        {% endfor %}
    </div>

    <h2>Sales Summary</h2>
    <div class="sales-summary">
        <p><strong>Total Sales:</strong> {{ total_sales }}</p>
        <p><strong>Revenue Generated:</strong> ${{ total_revenue }}</p>
    </div>
</div>
{% endblock %}
